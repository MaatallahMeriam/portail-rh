<div class="collab-home">
    <app-header></app-header>
  
    <div class="main-content">
      <app-side-bar-manager (sidebarStateChange)="onSidebarStateChange($event)"></app-side-bar-manager>
  
      <div class="feed" [class.sidebar-collapsed]="isSidebarCollapsed">
        <h2 class="section-title">Equipe {{ equipe?.nom || 'Chargement...' }}</h2>
  
        <!-- Manager Card -->
        <div class="manager-section" *ngIf="manager">
          <h3 class="manager-title">Manager</h3>
          <div class="member-card manager-card" (click)="navigateToMemberDetails(manager.id)">
            <div class="member-photo" [style.backgroundImage]="getBackgroundImage(manager)"></div>
            <div class="member-info">
              <h3>{{ manager.prenom }} {{ manager.nom }}</h3>
              <p class="poste">{{ manager.poste }}</p>
              <p class="mail">{{ manager.mail }}</p>
              <p class="phone">{{ manager.numero || 'Non spécifié' }}</p>
            </div>
          </div>
        </div>
  
        <!-- Team Members -->
        <div class="members-section">
          <h3 class="members-title">Membres de l'équipe</h3>
          <div class="members-container">
            <div class="member-card" *ngFor="let member of teamMembers" (click)="navigateToMemberDetails(member.id)">
              <div class="member-photo" [style.backgroundImage]="getBackgroundImage(member)"></div>
              <div class="member-info">
                <h3>{{ member.prenom }} {{ member.nom }}</h3>
                <p class="poste">{{ member.poste }}</p>
                <p class="mail">{{ member.mail }}</p>
                <p class="phone">{{ member.numero || 'Non spécifié' }}</p>
              </div>
            </div>
            <p *ngIf="teamMembers.length === 0 && manager" class="no-members">Aucun membre dans l'équipe.</p>
          </div>
        </div>
      </div>
    </div>
  </div>